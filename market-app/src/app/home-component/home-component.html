<div class="body">
  <section class="cta-section">
    <div class="cta-write-up">
      <h2>Find Everything You Need on Campus</h2>
      <p>
        Discover, buy, and sell products easily within the Esfam student
        community.
      </p>
      <button type="button" class="cta-btn" routerLink="/market">
        Explore Products
      </button>
    </div>
  </section>

  <section class="feature-section">
    <div class="features">
      <img src="market.svg" alt="market icon" width="60px" />
      <h4>Streamlined Buying and Selling</h4>
      <p>
        Experience a seamless platform tailored for students to easily buy and
        sell products.
      </p>
    </div>
    <div class="features">
      <img src="creditcardoff.svg" alt="cerdit card off icon" width="60px" />
      <h4>No Hidden Fees</h4>
      <p>
        Enjoy this platform completely free—no charges or hidden costs for
        buying or selling.
      </p>
    </div>
    <div class="features">
      <img src="data.svg" alt="data icon" width="60px" />
      <h4>Data Protection</h4>
      <p>
        Your personal information is safeguarded with robust security measures.
      </p>
    </div>
    <div class="features">
      <img src="accessibility.svg" alt="accesibility icon" width="60px" />
      <h4>Easy Access</h4>
      <p>All Esfam students have exclusive access to this platform.</p>
    </div>
  </section>

  <section class="category-section">
    <div class="heading">
      <h2>Browse Categories</h2>
      <p>
        Discover a diverse selection of product categories curated for Esfam
        students.
      </p>
    </div>

    <div class="container">
      <div class="gender">
        <div class="men" routerLink="/men">
          <div class="title"><h4>Men</h4></div>
        </div>

        <div class="women" routerLink="/women">
          <div class="title"><h4>Women</h4></div>
        </div>
      </div>

      <div class="categories">
        <div class="category" routerLink="/fashion">Fashion</div>
        <div class="category" routerLink="/electronic">Electronic</div>
        <div class="category" routerLink="/edible">Edible</div>
        <div class="category" routerLink="/school-accessory">
          School Material
        </div>
      </div>
    </div>
  </section>

  <section class="most-purchased-product-section">
    <div class="heading">
      <h2>Latest Products</h2>
      <p>
        Discover the newest additions to the Esfam Market, curated and trusted
        by fellow students.
      </p>
    </div>

    <div class="products">
      @for (item of products; track item._id) {
      <div class="product">
        <div
          class="image"
          style="background-image: url('{{ item.primaryImage }}')"
          (click)="displayDetails( item, $event )"
        ></div>
        <div class="details">
          <p>{{ item.name || 'Unnamed Product' }}</p>
          <p class="price">₦<span>{{ item.price.toLocaleString()}}</span></p>
          <button type="button" class="other-button" (click)="addToCart(item)">
            Add to cart
          </button>
        </div>
      </div>
      }
    </div>
  </section>

  <section class="sell-section">
    <div class="sell-write-up">
      <h2>Effortlessly List Your Products for Free</h2>
      <p>
        Share your items with fellow students by uploading your products at no
        cost. Connect with buyers easily and securely within the Esfam
        community.
      </p>
      <button
        type="button"
        class="sell-button other-button"
        (click)="uploadProductsButton()"
      >
        Upload your products
      </button>
    </div>

    <div class="sell-image">
      <div class="sell-actual-image"></div>
    </div>
  </section>

  <section class="blog-section">
    <div class="blog-image">
      <div class="blog-actual-image"></div>
    </div>

    <div class="blog-write-up">
      <h2>Engage and Grow Your Audience with Blog Posts</h2>
      <p>
        Share valuable insights and updates to connect with your customers and
        attract new ones. Start writing blogs to enhance your presence within
        the Esfam community.
      </p>
      <button type="button" class="write-blog other-button">
        Start Writing Blogs
      </button>
    </div>
  </section>

  <section class="join-section fixed-section-color">
    <div class="write-up">
      <h2>Join Esfam Market Today and Unlock Exclusive Benefits</h2>
      <p>
        Become a member to access a vibrant marketplace designed for Esfam
        students. Enjoy seamless buying, selling, and community engagement.
      </p>
      <div class="btns">
        <button type="button" class="sign-up" routerLink="signup">
          Join Esfam Market
        </button>
      </div>
    </div>
  </section>

  <div class="product-details-expand">
    <div class="header">
      <div class="clicked-product-name">
        <h3 class="names"></h3>
      </div>
      <div class="product-id"></div>

      <button
        type="button"
        class="close-product-details-expand"
        (click)="removeDetails()"
      >
        <img src="close.svg" alt="close" />
      </button>
    </div>

    <div class="content">
      <div class="about-product">
        <div class="images">
          <div class="displaying-image" (click)="expandPrimaryImage()"></div>

          <div class="available-images">
            <div class="image1" (click)="changeToPrimaryImage()"></div>
            <div class="image2" (click)="changeToSecondaryImage()"></div>
            <div class="image3" (click)="changeToThirdImage()"></div>
          </div>
        </div>

        <div class="about-the-product">
          <div class="product-main-description">
            <h3>Description</h3>
            <div class="product-information"></div>
          </div>

          <div class="product-price">
            ₦ <span class="displayed-price"></span>
          </div>

          <div class="stock-status"></div>

          <div class="product-ui-buttons">
            <button type="button">
              <img src="wishlist.svg" alt="Add to wishlist" />
            </button>
            <button type="button">Add to cart</button>
            <div class="numbers-btns">
              <button type="button" class="numbers minus">-</button>
              <button type="button" class="numbers numOfItem">1</button>
              <button type="button" class="numbers plus">+</button>
            </div>
            <button type="button" class="gift">Buy as a gift</button>
            <button type="button" class="report">Report this product</button>
          </div>
        </div>
      </div>

      <div class="other-things">
        <div class="similar-products">
          <h3>Similar Products</h3>

          <div class="similar-product-container">
            @for (item of similarP; track item._id) {
            <div class="product">
              <div
                class="image"
                style="background-image: url('{{ item.primaryImage }}')"
                (click)="displayDetails( item, $event )"
              ></div>
              <div class="details">
                <p>{{ item.name || 'Unnamed Product' }}</p>
                <p class="price">
                  ₦<span>{{ item.price.toLocaleString()}}</span>
                </p>
                <button
                  type="button"
                  class="other-button"
                  (click)="addToCart(item._id)"
                >
                  Add to cart
                </button>
              </div>
            </div>
            }
          </div>
        </div>

        <div class="reviews">
          <h3>
            Reviews (
            <div class="number-of-reviews"></div>
            )
          </h3>
          <p class="note">Scroll to the bottom to write a review</p>

          <div class="reviews-container">
            @for (item of reviews; track item._id) {
            <div class="review">
              <div class="author-name">
                <h4 class="author">{{ item.customerName }}</h4>
              </div>
              <div class="comments">{{ item.review }}</div>
              <div class="timeOfWriting">
                {{ item.createdAt | date: 'short' }}
              </div>
            </div>
            }

            <div class="write-a-review">
              <form (submit)="submitReview($event)">
                <label for="write-review">
                  Write a review about this product.
                  <span class="note">
                    Note: Your review will not be visible until this page is
                    reloaded.</span
                  >
                </label>
                <textarea
                  name="write-review"
                  id="write-review"
                  maxlength="500"
                  placeholder="Write a review about this product"
                ></textarea>
                <button type="submit" class="submit-review">
                  Submit Review
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
